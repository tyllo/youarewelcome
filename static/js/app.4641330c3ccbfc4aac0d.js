webpackJsonp([1,2],{100:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(39),a=s(38),r=s.n(a);n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App/>",components:{App:r.a}})},21:function(t,e,s){"use strict";var n=s(24),a=s.n(n),r=function t(e,s){a()(this,t);var n=Date.now();this.id=s+n,this.time=n,this.text=e,this.user=s,this.error="",this.status=!1};e.a=r},38:function(t,e,s){s(79),s(80);var n=s(7)(s(41),s(94),null,null);t.exports=n.exports},40:function(t,e,s){"use strict";function n(t){return new o.a(function(e){return setTimeout(e,t)})}var a=s(25),r=s.n(a),i=s(23),u=s.n(i),c=s(22),o=s.n(c),l=s(24),m=s.n(l);s.d(e,"a",function(){return h});var f="/api/get-answer",d=300,p=function t(e){m()(this,t),this.ok=!1,this.error=e.statusText},h=function(){var t=u()(r.a.mark(function t(e){var s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=new FormData,s.set("q",e),t.next=4,fetch(f,{method:"POST",body:s});case 4:return a=t.sent,t.next=7,n(d);case 7:return t.abrupt("return",a.ok?a.json():new p(a));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},41:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(93),a=s.n(n);e.default={name:"app",components:{Chat:a.a}}},42:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{text:""}},methods:{onSubmit:function(){this.$emit("submit",this.text),this.text=""}}}},43:function(t,e,s){"use strict";function n(t){var e=t+"";return e.length<2?0+e:e}Object.defineProperty(e,"__esModule",{value:!0});var a=s(21);e.default={props:{message:{type:a.a,required:!0}},computed:{time:function(){var t=new Date(this.message.time),e=t.getHours(),s=t.getMinutes(),a=t.getSeconds();return n(e)+":"+n(s)+":"+n(a)},className:function(){return"is-"+this.message.user.toLowerCase()}}}},44:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(91),a=s.n(n);e.default={props:{messages:{type:Array,required:!0}},data:function(){return{timerId:null}},updated:function(){var t=this;this.timerId=setTimeout(function(){t.$refs.messages.$el.scrollIntoView(!1)},500)},beforeDestroy:function(){clearTimeout(this.timerId)},components:{ChatMessage:a.a}}},45:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(25),a=s.n(n),r=s(23),i=s.n(r),u=s(40),c=s(21),o=s(92),l=s.n(o),m=s(90),f=s.n(m);e.default={data:function(){return{user:"Me",messages:[]}},methods:{onSubmit:function(t){var e=this;return i()(a.a.mark(function s(){var n,r;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=new c.a(t,e.user),e.messages.push(n),s.next=4,u.a(t);case 4:r=s.sent,e.handlerResponse(r,n);case 6:case"end":return s.stop()}},s,e)}))()},handlerResponse:function(t,e){if(this.$set(e,"status",!0),t.ok){var s=new c.a(t.a,"Server");this.messages.push(s)}else this.$set(e,"error",t.error)}},components:{ChatMessages:l.a,ChatForm:f.a}}},79:function(t,e){},80:function(t,e){},81:function(t,e){},82:function(t,e){},83:function(t,e){},84:function(t,e){},85:function(t,e){},89:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCgk8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayINCgkJZmlsbD0nZ3JheScgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgMzM3LjYiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KCTxnPg0KCQk8cG9seWdvbiBwb2ludHM9IjAsMzA1LjcgNjIuNiwyNzQuOSA2NC4xLDYwIDAsMjcuNSAJIi8+DQoJCTxwYXRoIGQ9Ik0yNTEuOCwxMDcuM2MyOC42LDAuMiw1Mi4zLDE5LjksNTksNDYuNGwyMDEuNywxLjNsMC4yLTMwLjdMMjY3LjgsMEwxMTQsNjAuNGwtMC44LDEyMi44bC0wLjYsOTIuMWwxNTMuMSw2Mi40TDUxMiwyMTYuNQ0KCQkJbDAuMi0zMC43bC0yMDEuNi0xLjNjLTcuMSwyNi40LTMxLDQ1LjgtNTkuNSw0NS43Yy0zMy45LTAuMi02MS4yLTI3LjktNjEtNjEuOEMxOTAuMiwxMzQuNCwyMTcuOSwxMDcuMSwyNTEuOCwxMDcuM3oiLz4NCgk8L2c+DQo8L3N2Zz4NCg=="},90:function(t,e,s){s(81);var n=s(7)(s(42),s(95),null,null);t.exports=n.exports},91:function(t,e,s){s(82);var n=s(7)(s(43),s(96),null,null);t.exports=n.exports},92:function(t,e,s){s(84),s(85);var n=s(7)(s(44),s(98),null,null);t.exports=n.exports},93:function(t,e,s){s(83);var n=s(7)(s(45),s(97),null,null);t.exports=n.exports},94:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Chat")],1)},staticRenderFns:[]}},95:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"chat-form",on:{submit:function(e){e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"chat-form_message"},[t._v("На одинаковые вопросы будут одинаковые ответы\n")]),n("img",{staticClass:"chat-form_icon-pen",attrs:{src:s(89)}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"chat-form_input",attrs:{name:"q",type:"text",placeholder:"Введите вопрос",autocomplete:"off",autofocus:"autofocus"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("button",{staticClass:"chat-form_button",attrs:{type:"submit",disabled:!t.text}},[t._v("Узнать ответ")])])},staticRenderFns:[]}},96:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-message",class:t.className},[s("div",{staticClass:"chat-message_user"},[t._v(t._s(t.message.user))]),s("div",{staticClass:"chat-message_text"},[t._v(t._s(t.message.text))]),s("div",{staticClass:"chat-message_time"},[t._v(t._s(t.time))]),s("div",{staticClass:"chat-message_error"},[t._v(t._s(t.message.error))])])},staticRenderFns:[]}},97:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat"},[s("ChatMessages",{staticClass:"chat_messages",attrs:{messages:t.messages}}),s("ChatForm",{staticClass:"chat_form",on:{submit:t.onSubmit}})],1)},staticRenderFns:[]}},98:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-messages"},[s("transition-group",{ref:"messages",attrs:{name:"messages",tag:"div"}},t._l(t.messages,function(t){return s("ChatMessage",{key:t.id,staticClass:"chat-messages_item",attrs:{message:t}})})),t.messages.length?t._e():s("div",{staticClass:"chat-messages_empty"},[t._v("Напишите что-нибудь в чат")])],1)},staticRenderFns:[]}}},[100]);
//# sourceMappingURL=app.4641330c3ccbfc4aac0d.js.map